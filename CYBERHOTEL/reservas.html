<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscar Quartos - CyberHotel 3000</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.5.0/css/glide.core.min.css">
    <script src="https://kit.fontawesome.com/your-kit-code.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="./css/reservas.css">
    <link rel="icon" href="./imgs/favicon.ico" type="image/x-icon">

</head>
<body>
    <!-- Navegação Cyber -->
    <nav class="cyber-menu">
        <div class="cyber-menu-item" data-scroll="hero"></div>
        <div class="cyber-menu-item" data-scroll="rooms"></div>
        <div class="cyber-menu-item" data-scroll="experiences"></div>
        <div class="cyber-menu-item" data-scroll="contact"></div>
    </nav>

    <!-- Seção de Busca de Quartos -->
    <section id="search" class="min-vh-100 d-flex align-items-center">
        <div class="container">
            
            <h1 class="cyber-gradient text-center mb-5">Buscar Quartos</h1>
            
            
            <!-- Filtros de Busca -->
            <div class="quantum-booking mb-5">
                
                <a href="reservasjafeitas.html" class="cyber-button">conferir reservas</a>
                <a href="index.html" class="cyber-button">Home</a>
                
            </div>

            <!-- Lista de Quartos Disponíveis -->
            <div class="neon-grid">
                <!-- Quarto 1 -->
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/suiteneutral.png" alt="Suíte Neural">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Suíte Neural</h3>
                        <p>Preço: € 500/noite</p>
                        <p>Disponibilidade: 85%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>

                <!-- Quarto 2 -->
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/aurora nexus.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Aurora Nexus</h3>
                        <p>Preço: € 900/noite</p>
                        <p>Disponibilidade: 70%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>

                <!-- Adicione mais quartos conforme necessário -->
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/quartoholografico.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Quarto Holográfico</h3>
                        <p>Preço: € 300/noite</p>
                        <p>Disponibilidade: 70%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/suite nebulosa.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Suíte Nebulosa</h3>
                        <p>Preço: € 800/noite</p>
                        <p>Disponibilidade: 50%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/capsula lunar.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Cápsula Lunar</h3>
                        <p>Preço: € 1000/noite</p>
                        <p>Disponibilidade: 20%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/suite cibernetica.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Suíte Cibernética</h3>
                        <p>Preço: € 690/noite</p>
                        <p>Disponibilidade: 90%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/Skyline Quantum.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Skyline Quantum</h3>
                        <p>Preço: € 1200/noite</p>
                        <p>Disponibilidade: 66%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/estaçao onix.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Estação Ônix</h3>
                        <p>Preço: € 4000/noite</p>
                        <p>Disponibilidade: 15%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>
                <div class="hologram-panel room-card" data-aos="zoom-in">
                    <img src="./imgs/horizon infinity.png" alt="Quarto Holográfico">
                    <div class="p-4">
                        <h3 class="cyber-gradient">Horizon Infinity</h3>
                        <p>Preço: € 800/noite</p>
                        <p>Disponibilidade: 70%</p>
                        <button class="cyber-button">Reservar Agora</button>
                    </div>
                </div>
                

            </div>
        </div>
    </section>

    <!-- Modal de Reserva -->
    <div class="modal fade" id="reservationModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content hologram-panel">
                <div class="modal-header border-0">
                    <h5 class="modal-title cyber-gradient">Reservar Quarto</h5>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="checkinDate" class="form-label">Data de Check-in</label>
                            <input type="date" class="neon-input w-100" id="checkinDate">
                        </div>
                        <div class="mb-3">
                            <label for="checkoutDate" class="form-label">Data de Check-out</label>
                            <input type="date" class="neon-input w-100" id="checkoutDate">
                        </div>
                        <div class="mb-3">
                            <label for="guests" class="form-label">Número de Hóspedes</label>
                            <select class="neon-input w-100" id="guests">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                            </select>
                        </div>
                        <button type="submit" class="cyber-button w-100">Confirmar Reserva</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Inicialização do AOS (Animate On Scroll)
            AOS.init({
                duration: 1000,
                once: false,
                mirror: true
            });
    
            // Sistema de Reservas
            const initReservationSystem = () => {
                const reservationButtons = document.querySelectorAll('.room-card button');
                const reservationForm = document.querySelector('#reservationModal form');
    
                if (reservationButtons && reservationForm) {
                    // Configurar datas para 2025 ao abrir o modal
                    reservationButtons.forEach(button => {
                        button.addEventListener('click', (event) => {
                            const roomCard = event.target.closest('.room-card');
                            const roomName = roomCard.querySelector('h3').textContent;
                            const modal = new bootstrap.Modal(document.getElementById('reservationModal'));
                            
                            // Definir limites das datas
                            const checkinInput = document.getElementById('checkinDate');
                            const checkoutInput = document.getElementById('checkoutDate');
                            
                            // Restringir datas para 2025
                            checkinInput.min = '2025-01-01';
                            checkinInput.max = '2025-12-31';
                            checkoutInput.min = '2025-01-01';
                            checkoutInput.max = '2025-12-31';
                            
                            // Valores padrão
                            checkinInput.value = '2025-01-01';
                            checkoutInput.value = '2025-01-02';
                            
                            document.getElementById('reservationModal').dataset.currentRoom = roomName;
                            modal.show();
                        });
                    });
    
                    // Processar formulário
                    // ... (código anterior mantido)

reservationForm.addEventListener('submit', async (event) => {
    event.preventDefault();
    
    const checkin = document.getElementById('checkinDate').value;
    const checkout = document.getElementById('checkoutDate').value;
    const guests = document.getElementById('guests').value;
    const room = document.getElementById('reservationModal').dataset.currentRoom;

    // Validação reforçada
    if (!checkin || !checkout || !guests) {
        showAlert('Preencha todos os campos!', 'error');
        return;
    }

    const checkinDate = new Date(checkin);
    const checkoutDate = new Date(checkout);
    
    if (checkinDate >= checkoutDate) {
        showAlert('Data de check-out deve ser posterior ao check-in!', 'error');
        return;
    }

    if (checkinDate.getFullYear() !== 2025 || checkoutDate.getFullYear() !== 2025) {
        showAlert('As reservas só estão disponíveis para o ano de 2025!', 'error');
        return;
    }

    try {
        // Obter o card do quarto selecionado
        // Obter o card do quarto selecionado
const roomCards = document.querySelectorAll('.room-card');
let roomCard = null;

// Procurar o card que contém o nome do quarto
roomCards.forEach(card => {
    const roomNameElement = card.querySelector('h3');
    if (roomNameElement && roomNameElement.textContent === room) {
        roomCard = card;
    }
});

if (!roomCard) {
    throw new Error('Quarto não encontrado');
}
        
        if (!roomCard) {
            throw new Error('Quarto não encontrado');
        }

        // Extrair o preço do quarto
        const priceText = roomCard.querySelector('p').textContent;
        const price = parseFloat(priceText.match(/[\d.]+/)[0]);

        const reservation = {
            quarto: room,
            checkin,
            checkout,
            hospedes: guests,
            preco: price,
            status: 'pending',
            timestamp: new Date().toISOString()
        };

        const reservas = JSON.parse(localStorage.getItem('reservas')) || [];
        reservas.push(reservation);
        localStorage.setItem('reservas', JSON.stringify(reservas));

        showAlert('Reserva confirmada com sucesso! 🎉', 'success');
        bootstrap.Modal.getInstance(document.getElementById('reservationModal')).hide();
        
        // Resetar formulário
        reservationForm.reset();
        
        // Redirecionar para a página de reservas
        setTimeout(() => {
            window.location.href = 'reservasjafeitas.html?new=true';
        }, 1500);
    } catch (error) {
        console.error('Reservation Error:', error);
        showAlert('Erro ao processar reserva: ' + error.message, 'error');
    }
});

// ... (código posterior mantido)
                }
            };
    
            // Sistema de Alertas Estilizados
            const showAlert = (message, type) => {
                const alertBox = document.createElement('div');
                alertBox.className = `cyber-alert alert-${type}`;
                
                // Conteúdo do alerta
                alertBox.innerHTML = `
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-triangle'}"></i>
                    <span>${message}</span>
                `;
                
                document.body.appendChild(alertBox);
                
                // Remover após animação
                setTimeout(() => {
                    alertBox.classList.add('hide');
                    setTimeout(() => alertBox.remove(), 500);
                }, 2500);
            };
    
            // Iniciar sistemas
            initReservationSystem();
        });
    </script>
    
    <style>
        /* Alertas Cyber */
        .cyber-alert {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-family: 'Oxanium', cursive;
            z-index: 9999;
            backdrop-filter: blur(10px);
            border: 2px solid;
            animation: cyberAlertSlide 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
    
        .alert-success {
            background: rgba(0, 243, 255, 0.15);
            border-color: var(--neon-cyan);
            color: var(--neon-cyan);
            box-shadow: 0 0 25px rgba(0, 243, 255, 0.3);
        }
    
        .alert-error {
            background: rgba(255, 0, 255, 0.15);
            border-color: var(--hologram-pink);
            color: var(--hologram-pink);
            box-shadow: 0 0 25px rgba(255, 0, 255, 0.3);
        }
    
        .cyber-alert i {
            font-size: 1.4em;
        }
    
        .cyber-alert.hide {
            animation: cyberAlertFadeOut 0.3s ease forwards;
        }
    
        @keyframes cyberAlertSlide {
            from {
                top: -100px;
                opacity: 0;
            }
            to {
                top: 20px;
                opacity: 1;
            }
        }
    
        @keyframes cyberAlertFadeOut {
            from {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
            to {
                opacity: 0;
                transform: translateX(-50%) translateY(-20px);
            }
        }
    
        /* Date Picker Cyber */
        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1) drop-shadow(0 0 2px var(--neon-cyan));
            cursor: pointer;
            transition: transform 0.3s;
        }
    
        input[type="date"]::-webkit-calendar-picker-indicator:hover {
            transform: scale(1.1);
        }
    </style>

    
    
    
</body>
</html>